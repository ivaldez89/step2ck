@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   FOREST THEME - Design Tokens (CSS Variables)

   ðŸ”’ LOCKED PALETTE - Do not add new colors without design review.

   This is the SINGLE SOURCE OF TRUTH for theme colors.
   All Tailwind semantic classes reference these variables.

   Architecture:
   - Light mode: :root defines Forest Theme light mode
   - Dark mode: .dark defines Forest Theme dark mode

   APPROVED FOREST THEME PALETTE (FINAL):
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Brand / Structure (Greens):
     primary-strong  â†’ #405549
     primary         â†’ #556B5E
     primary-soft    â†’ #6E847D

   Surfaces:
     background      â†’ #F2F0EC
     surface         â†’ #FEFDFD

   Secondary / Earth:
     secondary       â†’ #B2ADA7
     secondary-strongâ†’ #786551

   Status:
     danger          â†’ #924A48

   Text / Utility:
     text-primary    â†’ #2F3A35
     text-muted      â†’ #8C9499
     border          â†’ #DADBDB
   ============================================================================= */

:root {
  /* Fonts */
  --font-inter: 'Inter', system-ui, sans-serif;
  --font-source-serif: 'Source Serif 4', Georgia, serif;

  /* ==========================================================================
     SURFACES - Cards, inputs, containers
     ========================================================================== */
  --surface-default: #FEFDFD;    /* surface - pure white */
  --surface-elevated: #FEFDFD;   /* surface - elevated cards */
  --surface-muted: #F2F0EC;      /* background - for muted surfaces */
  --surface-subtle: #F2F0EC;     /* background - subtle backgrounds */

  /* ==========================================================================
     BACKGROUNDS - Page-level backgrounds
     ========================================================================== */
  --bg-primary: #F2F0EC;         /* background - warm off-white */
  --bg-secondary: #F2F0EC;       /* background - same as primary */

  /* ==========================================================================
     PRIMARY - Main brand color (CTAs, active states)
     Forest green
     ========================================================================== */
  --primary: #556B5E;            /* primary */
  --primary-hover: #405549;      /* primary-strong */
  --primary-light: #6E847D;      /* primary-soft */
  --primary-foreground: #FEFDFD;

  /* ==========================================================================
     SECONDARY - Supporting brand color
     Earth tones
     ========================================================================== */
  --secondary: #786551;          /* secondary-strong */
  --secondary-hover: #786551;    /* secondary-strong */
  --secondary-light: #B2ADA7;    /* secondary */
  --secondary-foreground: #FEFDFD;

  /* ==========================================================================
     ACCENT - Highlights, emphasis (uses secondary-strong)
     ========================================================================== */
  --accent: #786551;             /* secondary-strong */
  --accent-hover: #786551;       /* secondary-strong */
  --accent-light: #B2ADA7;       /* secondary */
  --accent-foreground: #FEFDFD;

  /* ==========================================================================
     TEXT COLORS
     ========================================================================== */
  --text-primary: #2F3A35;       /* text-primary */
  --text-secondary: #2F3A35;     /* text-primary */
  --text-muted: #8C9499;         /* text-muted */
  --text-inverse: #FEFDFD;

  /* ==========================================================================
     BORDERS
     ========================================================================== */
  --border: #DADBDB;             /* border */
  --border-light: #DADBDB;       /* border */
  --border-focus: #556B5E;       /* primary */

  /* ==========================================================================
     STATUS COLORS
     ========================================================================== */
  --success: #556B5E;            /* primary - success uses green */
  --success-light: #6E847D;      /* primary-soft */

  --warning: #786551;            /* secondary-strong */
  --warning-light: #B2ADA7;      /* secondary */

  --error: #924A48;              /* danger */
  --error-light: #B2ADA7;        /* secondary (muted) */

  --info: #556B5E;               /* primary */
  --info-light: #6E847D;         /* primary-soft */

  /* ==========================================================================
     GRADIENTS - Pre-defined gradient stops
     ========================================================================== */
  --gradient-primary-from: #556B5E;
  --gradient-primary-to: #405549;
  --gradient-secondary-from: #786551;
  --gradient-secondary-to: #786551;
  --gradient-accent-from: #786551;
  --gradient-accent-to: #786551;
}

/* =============================================================================
   DARK MODE - Forest Theme

   ðŸ”’ LOCKED PALETTE - Uses inverted/adjusted values from approved palette.
   No new colors introduced - only adjustments for dark mode readability.
   ============================================================================= */

.dark {
  /* Surfaces - dark versions */
  --surface-default: #2F3A35;    /* text-primary inverted as surface */
  --surface-elevated: #3A453F;   /* slightly elevated */
  --surface-muted: #252E2A;      /* darker muted */
  --surface-subtle: #1F2723;     /* darkest subtle */

  /* Backgrounds - dark versions */
  --bg-primary: #1F2723;         /* dark background */
  --bg-secondary: #252E2A;       /* secondary dark */

  /* Primary - lightened greens for dark mode visibility */
  --primary: #6E847D;            /* primary-soft */
  --primary-hover: #556B5E;      /* primary */
  --primary-light: #405549;      /* primary-strong */
  --primary-foreground: #1F2723;

  /* Secondary - lightened earth tones */
  --secondary: #B2ADA7;          /* secondary */
  --secondary-hover: #B2ADA7;    /* secondary */
  --secondary-light: #786551;    /* secondary-strong */
  --secondary-foreground: #1F2723;

  /* Accent */
  --accent: #B2ADA7;             /* secondary */
  --accent-hover: #B2ADA7;       /* secondary */
  --accent-light: #786551;       /* secondary-strong */
  --accent-foreground: #1F2723;

  /* Text - light text on dark background */
  --text-primary: #FEFDFD;       /* surface */
  --text-secondary: #F2F0EC;     /* background */
  --text-muted: #8C9499;         /* text-muted (same) */
  --text-inverse: #2F3A35;       /* text-primary */

  /* Borders */
  --border: #3A453F;             /* elevated surface tone */
  --border-light: #2F3A35;       /* surface tone */
  --border-focus: #6E847D;       /* primary-soft */

  /* Status (adjusted for dark mode) */
  --success: #6E847D;            /* primary-soft */
  --success-light: #405549;      /* primary-strong */

  --warning: #B2ADA7;            /* secondary */
  --warning-light: #786551;      /* secondary-strong */

  --error: #924A48;              /* danger (same) */
  --error-light: #5A3534;        /* danger darkened */

  --info: #6E847D;               /* primary-soft */
  --info-light: #405549;         /* primary-strong */

  /* Gradients */
  --gradient-primary-from: #6E847D;
  --gradient-primary-to: #556B5E;
  --gradient-secondary-from: #B2ADA7;
  --gradient-secondary-to: #786551;
  --gradient-accent-from: #B2ADA7;
  --gradient-accent-to: #786551;
}

/* =============================================================================
   BASE STYLES
   ============================================================================= */

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
  }

  body {
    @apply bg-background text-content;
    overflow-x: hidden;
    position: relative;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--surface-muted);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 9999px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--text-muted);
  }
}

/* =============================================================================
   COMPONENT LAYER - Semantic component styles
   ============================================================================= */

@layer components {
  /* Primary Button */
  .btn-primary {
    @apply px-6 py-3 bg-primary hover:bg-primary-hover text-primary-foreground font-medium rounded-xl shadow-soft transition-all duration-200;
  }

  .btn-primary:hover {
    @apply shadow-soft-md transform -translate-y-0.5;
  }

  .btn-primary:active {
    @apply transform translate-y-0 shadow-soft;
  }

  /* Secondary Button */
  .btn-secondary {
    @apply px-6 py-3 bg-secondary hover:bg-secondary-hover text-secondary-foreground font-medium rounded-xl shadow-soft transition-all duration-200;
  }

  /* Card - uses white surface */
  .card {
    @apply bg-surface rounded-2xl border border-border-light shadow-card transition-all duration-200;
  }

  .card:hover {
    @apply shadow-card-hover border-border;
  }

  /* Input - uses white surface */
  .input {
    @apply bg-surface border border-border rounded-lg px-4 py-2 text-content focus:outline-none focus:ring-2 focus:ring-border-focus focus:border-transparent transition-all;
  }

  /* Focus ring for accessibility */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-border-focus focus:ring-offset-2;
  }

  /* Legacy class aliases (for backward compatibility during migration) */
  .btn-tribe {
    @apply btn-primary;
  }

  .card-tribe {
    @apply card;
  }

  .text-tribe-accent {
    @apply text-primary;
  }

  /* Card animations */
  .card-flip {
    transform-style: preserve-3d;
    transition: transform 0.3s ease-out;
  }

  .card-flip.flipped {
    transform: rotateY(180deg);
  }

  /* Loading skeleton */
  .skeleton {
    @apply animate-pulse rounded;
    background: var(--surface-muted);
  }
}

/* =============================================================================
   UTILITY LAYER
   ============================================================================= */

@layer utilities {
  /* Perspective for 3D effects */
  .perspective-1000 {
    perspective: 1000px;
  }

  /* Text balance for better typography */
  .text-balance {
    text-wrap: balance;
  }

  /* Gradient text - using theme colors */
  .text-gradient {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(to right, var(--primary), var(--primary-hover));
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

/* =============================================================================
   ANIMATIONS
   ============================================================================= */

@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes pulse-soft {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes slide-up {
  0% {
    transform: translateY(100px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes confetti {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(-200px) rotate(720deg);
    opacity: 0;
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-pulse-soft {
  animation: pulse-soft 2s ease-in-out infinite;
}

.animate-slide-up {
  animation: slide-up 0.5s ease-out forwards;
}

.animate-confetti {
  animation: confetti 1s ease-out forwards;
}

/* Animated gradient background */
@keyframes gradient-shift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradient-shift 8s ease infinite;
}

/* Glassmorphism - using theme colors */
.glass {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.dark .glass {
  background: rgba(21, 46, 34, 0.7); /* forest-900 with opacity */
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.glass-card {
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
}

.dark .glass-card {
  background: rgba(30, 61, 47, 0.6); /* forest-800 with opacity */
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

/* Warm background - using theme sand colors */
.bg-warm {
  background: linear-gradient(135deg, var(--surface-subtle) 0%, var(--surface-muted) 50%, var(--surface-subtle) 100%);
}

/* Floating orbs for background effect */
.orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.5;
  pointer-events: none;
}

/* Gradient text animation */
@keyframes text-shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

.text-shimmer {
  background: linear-gradient(
    90deg,
    var(--primary) 0%,
    var(--info) 25%,
    var(--accent) 50%,
    var(--info) 75%,
    var(--primary) 100%
  );
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: text-shimmer 4s linear infinite;
}

/* Fade-in-up animation for page load */
@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out forwards;
}

/* Animation delay utilities */
.animation-delay-100 {
  animation-delay: 100ms;
}

.animation-delay-200 {
  animation-delay: 200ms;
}

.animation-delay-300 {
  animation-delay: 300ms;
}

.animation-delay-400 {
  animation-delay: 400ms;
}

.animation-delay-500 {
  animation-delay: 500ms;
}

/* Subtle scale animation on hover for cards */
@keyframes subtle-bounce {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

.hover-bounce:hover {
  animation: subtle-bounce 0.3s ease-out;
}
